# 成長グラフの表示仕様

成長パネル画面で表示される成長グラフの表示仕様を整理しています。

（随時情報を追加あるいは詳細にしてください）


## 全体概要

- アクセス時~初期表示~では「現在」が表示される。
- 成長グラフ下部に設定されているタイムラインで日付押下を行うと、押下した日付のポイントと縦線が強調される。
- 成長グラフ横の左右矢印で表示している期間を変更できる。

[storybook](http://localhost:4000/storybook/chart_graph/growth_graph)

## 現在

- `skill_class_scores`テーブルを参照する

### 現在の1日単位表示

「現在」が表示されており、かつ、「自分との比較」「他者との比較」を表示していないときに、1つ前の過去から現在までの変遷が表示される。

- つまりアクセス時の初期表示では表示される。
- 比較表示しているときは、成長グラフ上のスケールが異なる不都合があるので表示できない。
- ユーザーのスキルクラススコアが変動したタイミングに点が表示される。
- `skill_class_score_logs`テーブルを参照する。
  - ユーザーがスキル入力を行って保存し、かつスキルクラススコアが変化した際に作成される。
  - スキルパネル更新処理によって、スキルクラススコアが変化した際に作成される（？）
- 例えば、タイムラインで`2023.10`を押した場合には、`historical_skill_class_scores.locked_date`が`2023-10-01`のデータが参照される。


## 過去

- `historical_skill_class_scores`テーブルを参照する。
- 例えば、タイムラインで`2023.10`を押した場合には、`historical_skill_class_scores.locked_date`が`2023-10-01`のデータが参照される。

## 未来

TODO: 未実装

## 自分との比較

- 比較用に別の線が加わる。
- 自分とは異なる色で描画される。

## 他者との比較

- 比較用に別の線が加わる。
- タイムラインもまた別に存在し、表示期間をずらすことができる。
- 他者の線が自分とは異なる色で描画される。

## ロールモデルとの比較

TODO: 未実装

